<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes ChartChartConfigurationChartInteractionsChartStylesDataParserUtils Classes Classes Chart ChartConfiguration ChartInteractions ChartStyles DataParser Utils Ã— Search results Close Documentation generated by JSDoc 3.4.0 on June 6th 2016, 11:53:45 am using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes ChartChartConfigurationChartInteractionsChartStylesDataParserUtils Open mHealth Web VisualizationsThis library renders visualizations of Open mHealth structured data in a web browser. It currently generates line charts and bar charts, with default settings included for the following measures: body weight (body_weight) heart rate (heart_rate) blood pressure (systolic_blood_pressure,diastolic_blood_pressure) physical activity (step_count, minutes_moderate_activity) The charting functions of the library are built on top of Plottable.js, which is built on top of D3. You can play with a live demo here. You can learn more about the design principles behind these visualisations on our website, and learn about how design became implementation on our blog. InstallationIf you'd like to use the charts in your own project, simply pull the library into your project as a Bower dependency using bower install omh-web-visualizations If you don't have Bower, install it using npm install -g bower. If you don't have npm, you'll need to install Node.js. If you'd like to experiment with the library using a demonstration page, Clone this repository git clone https://github.com/openmhealth/web-visualizations.git Navigate to the cloned repository and install the project's dependencies with Bower bower install Install the development dependencies using npm npm install Make your changes To publish your changes to the dist directory, run gulp gulp To see the results on the example page gulp watch and open http://localhost:8080/examples/charts.html in your browser If you leave it running, gulp will watch for changes in the background and update dist as needed Building a chartYou can create a chart by calling: chart = new OMHWebVisualizations.Chart( data, element, measureList, settings );The arguments passed to the constructor are: Argument Description data An array of Open mHealth structured data points. element A dom element, such as a &lt;div&gt; containing an &lt;svg&gt; node. This can also be a D3 selection. For backward compatibility, it can also be a jQuery object, however this functionality is deprecated and may be removed in a future release. measureList A string containing a comma-separated list of Open mHealth measures to display. settings An object with settings for the chart. If this is omitted or if an empty object is passed in, the function uses the default settings explained below. The easiest way to create data points to pass to the data parameter is to use our sample data generator. You can either use a pre-generated data set, or download the generator itself to create data that fits your needs. A chart is considered initialized if the constructor OMHWebVisualizations.Chart(...); completes. If, for example, no measures specified in the measureList argument can be found in the data argument, the constructor will not complete, and the chart will not be initialized. Initialization state is tracked by the Chart.initialized property, which can be used as a condition for rendering a chart or requesting its components after construction. Configuring a chartThe settings parameter of the OMHWebVisualization.Chart(...) function is divided into two sections. The interface section controls the UI of the chart as a whole. The measures section contains settings that customize charts for specific measures. The following object is the default settings object used by the OMHWebVisualization.Chart(...) function when its settings parameter is empty. You can specify any subset of these settings to override them: { 'interface': { 'toolbar': { 'visible': true, 'timespanButtons': { 'visible': true }, 'zoomButtons': { 'visible': true }, 'navigationButtons': { 'visible': true } }, 'tooltips': { 'visible': true, 'timeFormat': 'M/D/YY, h:mma', 'decimalPlaces': 0, 'contentFormatter': OMHWebVisualizations.ChartStyles.formatters.defaultTooltip.bind( this ), 'grouped': true }, 'panZoomUsingMouse': { 'enabled': true, 'hint':{ 'visible': true } }, 'axes': { 'yAxis': { 'visible': true }, 'xAxis': { 'visible': true } } }, 'measures': { 'body_weight': { 'data': { 'yValuePath': 'body.body_weight.value', }, 'yAxis': { 'range': { 'min': 0, 'max': 100 }, 'label': 'kg' } }, 'heart_rate': { 'data':{ 'yValuePath': 'body.heart_rate.value' }, 'yAxis': { 'range': { 'min': 30, 'max': 150 }, 'label': 'bpm' } }, 'step_count': { 'data': { 'yValuePath': 'body.step_count', 'xValueQuantization': { 'period': OMHWebVisualizations.DataParser.QUANTIZE_DAY, 'aggregator': parent.DataParser.aggregators.sum } }, 'chart': { 'type': 'clustered_bar', 'daysShownOnTimeline': { 'min': 7, 'max': 90 } }, 'legend': { 'seriesName': 'Steps', 'seriesColor': '#eeeeee' }, 'yAxis': { 'range': { 'min': 0, 'max': 1500 }, 'label': 'Steps' } }, 'minutes_moderate_activity': { 'data':{ 'yValuePath': 'body.minutes_moderate_activity.value', 'xValueQuantization': { 'period': OMHWebVisualizations.DataParser.QUANTIZE_DAY, 'aggregator': parent.DataParser.aggregators.sum } }, 'chart': { 'type': 'clustered_bar', 'daysShownOnTimeline': { 'min': 7, 'max': 90 } }, 'legend': { 'seriesName': 'Minutes of moderate activity', 'seriesColor': '#4a90e2' }, 'yAxis':{ 'range': { 'min': 0, 'max': 300 }, 'label': 'Minutes' } }, 'systolic_blood_pressure': { 'data': { 'yValuePath': 'body.systolic_blood_pressure.value' }, 'yAxis': { 'range': { 'min': 30, 'max': 200 }, 'label': 'mmHg' } }, 'diastolic_blood_pressure': { 'data': { 'yValuePath': 'body.diastolic_blood_pressure.value' }, 'yAxis':{ 'range': { 'min': 30, 'max': 200 }, 'label': 'mmHg' } } } }For example, using these default settings to graph heart_rate data will generate a chart that looks like this: If you look carefully at the default settings object, you'll also notice that some measure settings have more properties than others. When a property is missing, the following default settings are assumed. { 'yAxis': { 'range': { 'min': 0, 'max': 100 }, 'label': 'Units', }, 'data':{ 'xValueQuantization': { 'period': OMHWebVisualizations.DataParser.QUANTIZE_NONE, 'aggregator': OMHWebVisualizations.DataParser.aggregators.mean, } }, 'chart': { 'type': 'line', 'daysShownOnTimeline': { 'min': 1, 'max': 1000 }, }, 'legend': { 'seriesName': 'Series', 'seriesColor': '#4a90e2' } }Additionally, default styles are provided for rendering each measure's plot. To override the defaults, specify the new interface settings and styles in the settings object passed to OMHWebVisualization.Chart(...). For example, if you would like to graph heart_rate data with a blue line and no tooltips, you'd use the following settings object: { 'interface': { 'tooltips': { 'visible': false, } }, 'measures': { 'heart_rate': { 'chart': { 'styles': [ { 'name': 'blue-lines', 'plotType': 'Line', 'attributes': { 'stroke': '#4a90e2' } } ] } } } }This will produce a chart that looks something like the following screenshot: Automatic Y Axis RangingThe Y axis range can be set to adapt to the data by setting the yAxis.range property of a measure's settings to undefined e.g. settings.measures.heart_rate.yAxis.range = undefined_ QuantizationQuantization reduces the dataset's size by summarizing each group of points that fall into a common time range, or &quot;bucket,&quot; with a single point that represents their bucket's range. Currently, quantized data point values within each subsequent quantization bucket are averaged (mean) for most measures and summed for step_count and minutes_moderate_activity. If you wish to configure the timeQuantizationLevel for a measure, you will need the following constants: OMHWebVisualizations.DataParser.QUANTIZE_YEAR OMHWebVisualizations.DataParser.QUANTIZE_MONTH OMHWebVisualizations.DataParser.QUANTIZE_DAY OMHWebVisualizations.DataParser.QUANTIZE_HOUR OMHWebVisualizations.DataParser.QUANTIZE_MINUTE OMHWebVisualizations.DataParser.QUANTIZE_SECOND OMHWebVisualizations.DataParser.QUANTIZE_MILLISECOND OMHWebVisualizations.DataParser.QUANTIZE_NONE These can be used in an settings object as follows: // an example of some settings for a distance chart var settings = { 'measures': { 'distance': { 'seriesName': 'Distance', 'yAxis':{ 'range': { 'min': 0, 'max': 200000 }, 'label': 'm' }, 'data': { 'yValuePath': 'body.distance.value', 'xValueQuantization': { 'period': OMHWebVisualizations.DataParser.QUANTIZE_MONTH, 'aggregator': OMHWebVisualizations.DataParser.aggregators.sum } }, 'chart': { 'type': 'clustered_bar', 'daysShownOnTimeline': { 'min': 90, 'max': 365 } } } } };Here is a chart of some unquantized data: As an example, the data will be quantized by hour using OMHWebVisualizations.DataParser.QUANTIZE_HOUR. Thus all points in the hour from 04:00 to 05:00 will be summed into a single point. The unquantized points in this hour are shown below in a zoomed-in view of the minutes just before 05:00: And here is a chart of the same data quantized by hour. The points before 05:00 in the zoomed-in view above have been accumulated into a single point, shown in dark blue: GridlinesHorizontal lines (e.g. representing safe thresholds) can be drawn on charts. Each line is labelled with a custom label or its y value, unless that label will overlap another gridline's label. Here are two maximum gridlines with default appearance: Gridlines can be specified in the chart property of a measure in the measures section of the configuration settings object. A gridline in the settings object should have the following properties: Property Description value The y value of the horizontal line. label The label to show above the line (optional). If no label is specified, the value property is used. visible Whether to show the gridline (optional). On a chart of type line, a labeled horizontal rule is drawn all the way across the chart for each gridline. Gridlines are not drawn on bar charts. To create a new gridline without using the settings object, you can alternatively call chart.addGridline() before the chart is rendered. Extending default appearances with ChartStylesTo change the colors and other visual attributes of points on the chart, you can specify a chart.styles section in each measure in the measures block of the configuration settings object. You can alternatively customize the chart's ChartStyles object before rendering the chart by calling chart.getStylesForPlot() and chart.setStylesForPlot(). The Plottable plot you wish to affect must be passed into these functions. Below is an example of what can be done. See examples/charts.html for code samples. var dangerValue = 120; // these filter functions are used to determine which // points will be rendered with the style's attributes var dangerFilter = function ( d ) { // a filter function takes a datum and returns a boolean return d.y &gt;= dangerValue; }; var dangerSettings = { 'measures': { 'systolic_blood_pressure':{ 'chart':{ 'styles': { 'name': 'danger', 'plotType': 'Scatter', 'filters': [ dangerFilter ], 'attributes': { 'fill': 'red' 'stroke': 'red' } } } } } } //builds a new plottable chart with the danger settings chart = new OMHWebVisualizations.Chart( data, element, measureList, dangerSettings ); if ( chart.initialized ) { chart.renderTo( element.select( &quot;svg&quot; ).node() ); }The code above changes the color of points above the gridline: You could also add a range in the chart that is colored differently: TooltipsTooltips can be enabled, disabled, and configured using the userInterface.tooltips property of the settings object passed into the constructor (see 'Configuring a Chart'). The properties of userInterface.tooltips are explained in the following table: Property Description enabled Whether to show tooltips when the user hovers on a point. timeFormat A string representing the time format for the time field in the tooltip. decimalPlaces The number of decimal places to show the datum's y value with by default when rendering a data point value in the tooltip. contentFormatter A function that takes a D3 datum and returns a string. Used to render the datum in the tooltip. If undefined, the datum's y value will be truncated by a default formatter to the number of decimal places specified in the decimalPlaces parameter and converted to a string. grouped Whether to show a single common tooltip for data points of different measure types that are found together in the body of a single data point. In the following chart, we see a tooltip that has been colored light orange to match its point in the diastolic blood pressure series: And here is the CSS used for the tooltip: .omh-tooltip.above .value { color: #e8ac4e; }You can restrict the tooltip colors to only diastolic_blood_pressure as follows: .omh-tooltip.diastolic_blood_pressure.b .value { color: #e8ac4e; }In the same chart, we see a tooltip that has been colored red to match its point below the gridline in the systolic blood pressure series: Here is the CSS used for the systolic tooltip: .omh-tooltip.systolic_blood_pressure.below .value { color:#ce5050; }And again, in the same chart, we see a tooltip that has been colored light orange to match its point in the first measure: The point shown above has matched a chart style named warning: In order for this to work, the corresponding chart style's name property is set to warning as follows: { 'name': 'warning', 'filters': chartStyles.filters.above( 120 ), 'attributes':{ 'fill': '#e8ac4e', 'stroke': '#745628' } }(where chartStyles is an instance of OMHWebVisualizations.ChartStyles) And here is the CSS used to style tooltip .omh-tooltip.warning .value { color:#e8ac4e; }See examples/charts.html for js and css code samples. Rendering a chartOnce a chart has been constructed, it must be rendered to an &lt;svg&gt; element. Render the chart by calling: chart.renderTo( svgElement );Further customizationsAfter a chart has been constructed, but before it is rendered, you may choose to get the Plottable components and make further modifications that are not afforded by the constructor's settings parameter. Get the Plottable components, modify them, and render the chart as follows: // construct chart here... if (chart.initialized) { var components = chart.getComponents(); // modify plottable components here... chart.renderTo( svgElement ); }To see an example of component modification, check out the examples/charts.html file in this repository. Destroying a chartIn order to free up resources or re-use an element for a new chart, the chart and all of its interactive features can be destroyed with: chart.destroy();ContributingTo contribute to this repository Open an issue to let us know what you're going to work on. This lets us give you feedback early and lets us put you in touch with people who can help. Fork this repository. Create your feature branch from the develop branch. Commit and push your changes to your fork. Create a pull request. Ã— Search results Close Documentation generated by JSDoc 3.4.0 on June 6th 2016, 11:53:45 am using the DocStrap template. "},"Chart.html":{"id":"Chart.html","title":"Class: Chart","body":" Documentation Classes ChartChartConfigurationChartInteractionsChartStylesDataParserUtils Class: Chart Chart This is the main class used to chart Open mHealth data. At construction time, data is parsed and Plottable.js components are used to build the chart. Chart.renderTo can then be called to render the chart in the browser. new Chart(data, element, measureList, settings) Construct a new Chart object Parameters: Name Type Description data Object The Open mHealth formatted data to build a chart for element Object The DOM element that contains an SVG element for the chart measureList String The comma-delimited list of measures to search for in the data settings Object The optional settings used to configure the function and appearance of the chart Methods addGridline(value, label) Add a gridline to the chart at the value Parameters: Name Type Description value number The location on the y axis of the gridline label String The label of the gridline. Optional, defaults to the value. destroy() Destroy the resources used to render this chart getComponents() Get the Plottable.js chart components Returns: Type Object getConfiguration() Get the configuration used to render the plots Returns: Type ChartConfiguration getD3Selection() Get the D3 selection that this chart is rendered to Returns: Type d3.Selection getInteractions() Get the interactions used to present the plots Returns: Type ChartInteractions getMeasures() Get the measures that this chart can show Returns: Type Array getParser() Get the parser used to process the data Returns: Type DataParser getPlots(plotClass) Get the plots that are shown in this chart as Plottable.js components Parameters: Name Type Description plotClass Plottable.Plots.XYPlot Optional parameter gets only plots of the type, eg Plottable.Plots.Scatter Returns: Type Array getStyles() Get styles used to render the plots Returns: Type ChartStyles renderTo(svgElement) Render the chart to the SVG DOM element Parameters: Name Type Description svgElement Object The SVG DOM element that will contain the chart elements Ã— Search results Close Documentation generated by JSDoc 3.4.0 on June 6th 2016, 11:53:45 am using the DocStrap template. "},"ChartConfiguration.html":{"id":"ChartConfiguration.html","title":"Class: ChartConfiguration","body":" Documentation Classes ChartChartConfigurationChartInteractionsChartStylesDataParserUtils Class: ChartConfiguration ChartConfiguration This class generates and manages configuration state for a chart. The configuration is passed in a an object containing optional settings. new ChartConfiguration(settings) Constructs a new ChartConfiguration object Parameters: Name Type Description settings Object An object containing properties that configure the chart Example // An example of the settings parameter { 'interface': { 'toolbar': { 'visible': true, 'timespanButtons': { 'visible': true }, 'zoomButtons': { 'visible': true }, 'navigationButtons': { 'visible': true } }, 'tooltips': { 'visible': true, 'timeFormat': 'M/D/YY, h:mma', 'decimalPlaces': 0, 'contentFormatter': ChartStyles.formatters.defaultTooltip.bind( this ), 'grouped': true }, 'panZoomUsingMouse': { 'enabled': true, 'hint':{ 'visible': true } }, 'axes': { 'yAxis': { 'visible': true }, 'xAxis': { 'visible': true } } }, 'measures': { 'body_weight': { 'data': { 'yValuePath': 'body.body_weight.value', }, 'yAxis': { 'range': { 'min': 0, 'max': 100 }, 'label': 'kg' } }, 'heart_rate': { 'data':{ 'yValuePath': 'body.heart_rate.value' }, 'yAxis': { 'range': { 'min': 30, 'max': 150 }, 'label': 'bpm' } }, 'step_count': { 'data': { 'yValuePath': 'body.step_count', 'xValueQuantization': { 'period': DataParser.QUANTIZE_DAY, 'aggregator': parent.DataParser.aggregators.sum } }, 'chart': { 'type': 'clustered_bar', 'daysShownOnTimeline': { 'min': 7, 'max': 90 } }, 'legend': { 'seriesName': 'Steps', 'seriesColor': '#eeeeee' }, 'yAxis': { 'range': { 'min': 0, 'max': 1500 }, 'label': 'Steps' } }, 'minutes_moderate_activity': { 'data':{ 'yValuePath': 'body.minutes_moderate_activity.value', 'xValueQuantization': { 'period': DataParser.QUANTIZE_DAY, 'aggregator': DataParser.aggregators.sum } }, 'chart': { 'type': 'clustered_bar', 'daysShownOnTimeline': { 'min': 7, 'max': 90 } }, 'legend': { 'seriesName': 'Minutes of moderate activity', 'seriesColor': '#4a90e2' }, 'yAxis':{ 'range': { 'min': 0, 'max': 300 }, 'label': 'Minutes' } }, 'systolic_blood_pressure': { 'data': { 'yValuePath': 'body.systolic_blood_pressure.value' }, 'yAxis': { 'range': { 'min': 30, 'max': 200 }, 'label': 'mmHg' } }, 'diastolic_blood_pressure': { 'data': { 'yValuePath': 'body.diastolic_blood_pressure.value' }, 'yAxis':{ 'range': { 'min': 30, 'max': 200 }, 'label': 'mmHg' } } } } Methods getInterfaceSettings() Get the settings for the user interface Returns: Type Object getMeasureSettings(measure) Get the settings for the measure passed in Parameters: Name Type Description measure String A measure name, such as 'systolic_blood_pressure' Returns: Type Object Ã— Search results Close Documentation generated by JSDoc 3.4.0 on June 6th 2016, 11:53:45 am using the DocStrap template. "},"ChartInteractions.html":{"id":"ChartInteractions.html","title":"Class: ChartInteractions","body":" Documentation Classes ChartChartConfigurationChartInteractionsChartStylesDataParserUtils Class: ChartInteractions ChartInteractions This class allocates and maintains and destroys resources for user interactions on the chart. new ChartInteractions(element, primaryMeasure, configuration, parser, styles) Construct a ChartInteractions object Parameters: Name Type Description element Object the DOM element containing the svg that the chart is rendered to primaryMeasure String the measure that will serve as the basis for any adaptive aspects of the interface configuration ChartConfiguration the ChartConfiguration that configures the chart that these interactions will be connected to parser DataParser the parser that parsed the data in the chart styles ChartStyles the ChartStyles that style this chart Methods addToComponents(components) Adds the interactions handled by this ChartInteractions object to the components passed in Parameters: Name Type Description components Object The components to add the interactions to. This should include properties for plots, xScale, and table addTooltipsToEntities(entities) Adds tooltips to the d3 svg entities passed in Parameters: Name Type Description entities Array an array of d3 entities from the rendered plot addToSelection(d3Selection) Adds the interactions handled by this ChartInteractions object to the d3 selection passed in Parameters: Name Type Description d3Selection Object the d3 selection that will receive the interactions destroy() Destroys the resources that support the interactions handled by this ChartInteractions object getPanZoomInteraction() Get the Plottable.js pan/zoom object that is attached to the plot Returns: Type Object getpanZoomInteractionXAxis() Get the Plottable.js pan/zoom object that is attached to the x axis Returns: Type Object getToolbar() Get the d3 selection that represents the toolbar in the DOM Returns: Type Object getTooltip() Get the object that handles tooltips shown on hover Returns: Type Object Ã— Search results Close Documentation generated by JSDoc 3.4.0 on June 6th 2016, 11:53:45 am using the DocStrap template. "},"ChartStyles.html":{"id":"ChartStyles.html","title":"Class: ChartStyles","body":" Documentation Classes ChartChartConfigurationChartInteractionsChartStylesDataParserUtils Class: ChartStyles ChartStyles This class generates and manages chart visual styles. Style information is specified as an array of objects, each with a 'name', array of 'filters' and list of 'attributes' (see ChartStyles.setStylesForPlot). Filters are functions that take a datum as a parameter and return a boolean. ChartStyles has an array of useful filters, called 'filters', which can be used in a style object. Style information is mapped to a Plottable.Plots.XYPlot using the ChartStyles.setStylesForPlot function ChartStyles.setStylesForPlot and returned by ChartStyles.getStylesForPlot new ChartStyles(configuration) Constructs a new ChartStyles object Parameters: Name Type Description configuration ChartConfiguration The ChartConfiguration object that is being used to configure the Chart Members &lt;static&gt; filters :Object An array of functions that return useful filter functions, to help with conditional styling Type: Object &lt;static&gt; formatters :Object A collection of formatters used to format data before it is displayed Type: Object Methods &lt;static&gt; filters.above(max) Get a filter that matches points with y values above max Parameters: Name Type Description max Number The value, above which the matched points' y values must fall Returns: The filter function that can be added to a filter array in a style Type function &lt;static&gt; filters.below(min) Get a filter that matches points with y values below min Parameters: Name Type Description min Number The value, below which the matched points' y values must fall Returns: The filter function that can be added to a filter array in a style Type function &lt;static&gt; filters.dailyBeforeHour(hour) Get a filter that matches the points with an x value that falls prior to the given hour of each day Parameters: Name Type Description hour Number The hour, below which the matched points' x.getHours() must fall Returns: The filter function that can be added to a filter array in a style Type function &lt;static&gt; filters.measure(measure) Get a filter that matches the measure Parameters: Name Type Description measure String The measure to match Returns: The filter function that can be added to a filter array in a style Type function &lt;static&gt; getDefaultStylesForPlot(plot) Get a fresh copy of default styles for the plot. Styles will be returned if the plot is of type Plottable.Plots.Scatter, Plottable.Plots.Line, or Plottable.Plots.ClusteredBar Parameters: Name Type Description plot Plottable.Plots.XYPlot The plot that the styles will be used for. Different styles are returned depending on the type of the plot. Returns: Type Object addToSelection(selection) Add styling information to the D3 selection passed in This includes that gradient used behind the unit label in the y axis Parameters: Name Type Description selection d3.Selection The d3 selection that the styles should be added to. applyFilters(filters, d) Check if the datum meets the conditions of all filters in the array Parameters: Name Type Description filters Array The array of filters to check against. d Object The datum to check against the filters Returns: Returns true only if the datum matches all filters in the array Type boolean assignAttributesToPlot(styles, plot) Associate the styles with the data points that match their filters using the plot's Plottable.js accessors Parameters: Name Type Description styles Array The styles to associate to the plot plot Plottable.Plots.XYPlot The plot getAttributeValueAccessor(attributeStyles, defaultAccessor) Returns an attribute accessor function based on the attribute styles passed in. If none of the filters in the styles match, the default accessor is used. Parameters: Name Type Description attributeStyles Array An array of styles with filters to check data against defaultAccessor function The Accessor to use if a datum is not matched by the filters on which the styles are conditioned Returns: The function that will be used to access an attribute value contained in the styles parameter Type function getConfiguredDefaultStylesForPlot(plot) Get the combined default and configured styles for a given plot. Configured styles take priority over defaults Parameters: Name Type Description plot Plottable.Plots.XYPlot The plot for which styles will be returned Returns: The combined styles Type Array getConfiguredStylesForPlot(plot) Get the style specified in the configuration passed in at construction Filters that match the measures containing each style are added to the returned styles Parameters: Name Type Description plot Plottable.Plots.XYPlot The plot that the styles are for Returns: The styles in the configuration that apply to the type of plot passed in Type Array getFilteredProperty(d, propertyName, propertiesWithFilters) Get the value of the property by checking the point against the filters Returns null if there is no match. Parameters: Name Type Description d Object The datum to check against the filters propertyName String The name of the property to look for propertiesWithFilters Array An array of objects, each containing a 'filters' key and a key with the name specified by the propertyName parameter Returns: The value found at the propertyName if the datum matches the filters associated with that property name, or null Type * getStylesForPlot(plot) Returns the styles that have been set for the particular plot instance passed in If the returned styles are subsequently edited, they must be passed to setStylesForPlot() to affect the chart Parameters: Name Type Description plot Plottable.Plots.XYPlot Get the styles associated with this plot instance Returns: The styles for the plot specified in the plot parameter Type Array getStylesKeyedByAttributeName(styles) Re-index the style info by the attribute to assess attribute priority more easily Parameters: Name Type Description styles Array The styles to re-organize Returns: The styles re-organized as an object with keys for each attribute represented in the styles parameter Type Object resolveAttributeValue(attributeStyles, d) Resolves the attribute based on filters Parameters: Name Type Description attributeStyles Array An array of style information. Each entry looks something like { filters:[], value:{any} } d Object The datum to check against the filters associated with each value Returns: Type * resolveStyleNameForDatumInPlot(d, plot) Get the name of the style that a datum is rendered with, based on its filters Parameters: Name Type Description d The datum plot The plot with the styles used for rendering Returns: Type * setStylesForPlot(styles, plot) Set the styles that should be used for the plot instance Parameters: Name Type Description styles Array The styles to use for the plot plot Plottable.Plots.XYPlot The plot that should get the styles Example // an array of style information that can be passed in as the style parameter [ { name: 'red-area', filters: [ chartStyles.filters.above(120) ], attributes: { fill: 'red', stroke: 'red' } }, { name: 'orange-area', filters: [ chartStyles.filters.above(100), chartStyles.filters.below(120) ], attributes: { fill: 'orange', stroke: 'orange' } } ] Ã— Search results Close Documentation generated by JSDoc 3.4.0 on June 6th 2016, 11:53:45 am using the DocStrap template. "},"DataParser.html":{"id":"DataParser.html","title":"Class: DataParser","body":" Documentation Classes ChartChartConfigurationChartInteractionsChartStylesDataParserUtils Class: DataParser DataParser This class parses Open mHealth data into a format that is usable by d3 and Plottable.js. When possible, data is structured to make interactions and rendering easier. The following ChartConfiguration settings for each measure are used to parse the data: data.yValuePath - a dot-delimited string that indicates where in a data point the y value of a point can be found data.xValueQuantization.period - the granularity of time quantization desired for the data (e.g. DataParser.QUANTIZE_DAY ) data.xValueQuantization.aggregator - how to aggregate data points that are quantized to the same moment in time (e.g. DataParser.aggregators.mean ) new DataParser(data, measures, configuration) Creates an object that parses omh data into a format usable Plottable.js Parameters: Name Type Description data Object The data to parse now measures Object Strings representing the measures to extract from the data configuration ChartConfiguration A configuration object containing settings for parsing data Members &lt;static&gt; QUANTIZE_DAY :number Constant used for configuring quantization Type: number &lt;static&gt; QUANTIZE_HOUR :number Constant used for configuring quantization Type: number &lt;static&gt; QUANTIZE_MILLISECOND :number Constant used for configuring quantization Type: number &lt;static&gt; QUANTIZE_MINUTE :number Constant used for configuring quantization Type: number &lt;static&gt; QUANTIZE_MONTH :number Constant used for configuring quantization Type: number &lt;static&gt; QUANTIZE_NONE :number Constant used for configuring quantization Type: number &lt;static&gt; QUANTIZE_SECOND :number Constant used for configuring quantization Type: number &lt;static&gt; QUANTIZE_YEAR :number Constant used for configuring quantization Type: number Methods &lt;static&gt; aggregators.mean(data) Aggregate points with the same time value by finding the mean. Provenance data for the first point( chronologically ) will be preserved. For a given moment in time shared by more than one point, all but one point at that time are removed from the data array, and references to aggregated points are stored in the remaining point as 'aggregatedData' field. Parameters: Name Type Description data Array The data to aggregate &lt;static&gt; aggregators.mean(data) Aggregate points with the same time value by finding the mean. Provenance data for the first point( chronologically ) will be preserved. For a given moment in time shared by more than one point, all but one point at that time are removed from the data array, and references to aggregated points are stored in the remaining point as 'aggregatedData' field. Parameters: Name Type Description data Array The data to aggregate &lt;static&gt; aggregators.sum(data) Aggregate points with the same time value by summing them. Provenance data for the first point (chronologically) will be preserved. For a given moment in time shared by more than one point, all but one point at that time are removed from the data array, and references to aggregated points are stored in the remaining point as 'aggregatedData' field. Parameters: Name Type Description data Array The data to aggregate aggregateData(measure, data) Aggregate Plottable.js data points at the same time coordinates Parameters: Name Type Description measure string The measure will be used to look up the aggregation settings in the ChartConfiguration data Array The Plottable.js data the should be aggregated getAllMeasureData() Get all data found, organized by measure Returns: Type Array getIntervalDisplayDate(omhDatum, dateProvider) Get the display date for a datum that has specified an interval rather than a point in time Parameters: Name Type Description omhDatum object The omh formatted datum dateProvider object An object that provides dates. Moment.js is used by default. Returns: Type Date getMeasureData(measure) Get the data for the measure Parameters: Name Type Description measure string Returns: Type Array getSingleDateForDateRange(startTime, endTime) Get a single Date object to represent the range. Currently just returns the startTime parameter as a Date object. Parameters: Name Type Description startTime endTime Returns: Type Date hasMeasureData(measure) See if there is data for the measure Parameters: Name Type Description measure Returns: Type boolean parseOmhData(omhData, measuresToParse, dateProvider) Parse out the data into an array that can be used by Plottable.js Parameters: Name Type Description omhData The data to parse, formatted according to Open mHealth schemas measuresToParse The measures to pull out of the data dateProvider An object that provides dates. Moment.js is used by default. Returns: An array of data ready for use in a Plottable.js plot Type array quantizeDate(date, QuantizationLevel) Quantize a date to a quantization level Parameters: Name Type Description date Date The date to quantize QuantizationLevel number constant defined statically to represent the quantization level, e.g. OMHWebVisualizations.DataParser.QUANTIZE Returns: The quantized date Type Date resolveKeyPath(obj, keyPath) Get the value found at a key path Parameters: Name Type Description obj object The object to search for the key path keyPath string The path where the desired value should be found Returns: Type * Ã— Search results Close Documentation generated by JSDoc 3.4.0 on June 6th 2016, 11:53:45 am using the DocStrap template. "},"Utils.html":{"id":"Utils.html","title":"Class: Utils","body":" Documentation Classes ChartChartConfigurationChartInteractionsChartStylesDataParserUtils Class: Utils Utils This glass is a home for very general static functions that support the library new Utils() No need to construct utils, because it is static. Placeholder for future use. Methods &lt;static&gt; mergeObjects(obj1, obj2) Deep, recursive merge of the properties of two objects. Parameters: Name Type Description obj1 Object The base object obj2 Object The object with priority in the case of shared properties Returns: Type Object Ã— Search results Close Documentation generated by JSDoc 3.4.0 on June 6th 2016, 11:53:45 am using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
